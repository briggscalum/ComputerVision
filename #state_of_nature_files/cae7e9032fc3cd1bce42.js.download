(window.webpackJsonp=window.webpackJsonp||[]).push([[338],{7208:function(e,t,n){"use strict";t.__esModule=!0,t.isPointInCodeBlock=function(e,t){var n=e.value.document,r=n.getFirstText(),a=i.default.serializeSelection(n,{start:{key:r.key,offset:0},end:t},"raw").match(/```/g);return null!=a&&a.length>0&&a.length%2!=0},t.default=function(){return{onChange:u.catchAndLogExceptions(_),decorateNode:u.catchAndLogExceptions(N),renderDecoration:L}},t.computeLineStates=E,t.findBackticksOnLine=T,t.caseInsensitiveLangRegex=t.langRegex=void 0;var r=c(n(1)),a=s(n(6541)),o=s(n(12)),l=s(n(354)),i=s(n(6446)),u=c(n(7345));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var d=a.default.listLanguages(),p={},y=d,h=Array.isArray(y),v=0;for(y=h?y:y[Symbol.iterator]();;){var g;if(h){if(v>=y.length)break;g=y[v++]}else{if((v=y.next()).done)break;g=v.value}var b=g;b=b.toLowerCase();var k=a.default.getLanguage(b).aliases;if(p[b]=b,null!=k){var x=k,m=Array.isArray(x),w=0;for(x=m?x:x[Symbol.iterator]();;){var O;if(m){if(w>=x.length)break;O=x[w++]}else{if((w=x.next()).done)break;O=w.value}p[O.toLowerCase()]=b}}}var S=/^[a-z0-9_+\-.]+$/;t.langRegex=S;var j=/^[a-z0-9_+\-.]+$/i;for(var C in t.caseInsensitiveLangRegex=j,p)if(!C.match(S))throw new Error("Language name does not match regex: "+C);function _(e,t){!function(e,t){var n=t,r=Array.isArray(n),a=0;for(n=r?n:n[Symbol.iterator]();;){var o;if(r){if(a>=n.length)break;o=n[a++]}else{if((a=n.next()).done)break;o=a.value}var l=o,i=P(l);l.line.data.get("lineType")!=i&&e.setNodeByKey(l.line.key,{data:{lineType:i}})}}(e,E(e.value.document)),t()}var A=null,B=[];function E(e){if(A===e)return B;var t=[],n=null,r=e.nodes,a=Array.isArray(r),l=0;for(r=a?r:r[Symbol.iterator]();;){var i;if(a){if(l>=r.length)break;i=r[l++]}else{if((l=r.next()).done)break;i=l.value}var u=i;(0,o.default)("block"===u.object,"Slate: Invalid block type: "+u.object+" "+u.type),n=M(u,null!=n&&(n.isInCodeBlock||n.opensCodeBlock),null!=n&&(n.isStyledCodeBlockLine||n.opensCodeBlockOnOwnLine),null==n||!n.opensCodeBlock&&n.closesCodeBlock?null:n.lang),t.push(n)}return function(e){var t=[],n=!1,r=e,a=Array.isArray(r),o=0;for(r=a?r:r[Symbol.iterator]();;){var l;if(a){if(o>=r.length)break;l=r[o++]}else{if((o=r.next()).done)break;l=o.value}var i=l,u=i===e[e.length-1];if((i.closesCodeBlock||u)&&(n&&u&&!i.closesCodeBlock&&t.push(i),n=!1,t.length>0)){var s=t.map(function(e){return e.line.text}).join("\n"),c=t[0];null!=c.lang&&function(){var e=R(s,c.lang);t.forEach(function(t,n){return t.syntaxHighlightedHtml=e[n]})}(),t=[]}n&&t.push(i),i.opensCodeBlock&&(n=!0)}}(t),A=e,B=t,t}function P(e){return e.isStyledCodeBlockLine||e.wasInCodeBlock?JSON.stringify({type:"code",lang:e.lang,wasInCodeBlock:e.wasInCodeBlock,isInCodeBlock:e.isInCodeBlock,isStyledCodeBlockLine:e.isStyledCodeBlockLine,syntaxHighlightedHtml:e.syntaxHighlightedHtml}):null}function M(e,t,n,r){var a=T(e.text),o=a[0],l=a[a.length-1],i=null==l?null:e.text.substring(l+3),u=t&&null!=o,s=t&&0===a.length,c=n&&0===a.length,f=(u?a.slice(1):a).length%2==1,d=f&&(null==i||""===i||null!=i.match(j)),y=d&&null!=i&&p[i.toLowerCase()]||null;return{line:e,wasInCodeBlock:t,isInCodeBlock:s,isStyledCodeBlockLine:c,lang:f||u?y:r,syntaxHighlightedHtml:null,closesCodeBlock:u,opensCodeBlock:f,opensCodeBlockOnOwnLine:d}}function T(e){for(var t,n=[],r=/\\|```/g;null!=(t=r.exec(e));)"\\"!==t[0]?n.push(t.index):r.lastIndex+=1;return n}var D={max:1/0,maxAge:6e4,updateAgeOnGet:!0},K=new l.default(D);function R(e,t){var n=e+"-"+t,r=K.get(n);if(null!=r)return r;var o=a.default.highlight(t,e).value.split("\n");return K.set(n,o),o}function N(e,t,n){if("block"!==e.object)return n();if(null==e.data.get("lineType"))return n();var r=t.value.document,a=r.nodes.indexOf(e),o=E(r)[a],l=o.syntaxHighlightedHtml,i=o.isStyledCodeBlockLine;if(null==l||!i)return n();for(var s,c=l.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">"),f=/(?:<span class="([^"]*)">)|(?:<\/span>)/g,d=[],p=[],y=0,h=0;s=f.exec(c);){var v=s.index+s[0].length,g=s.index-h;s.index>h&&(d.length>0&&p.push({type:"SlateCodeBlocks:"+d.join(":"),anchor:u.findPointInBlockNode(e,y,!0),focus:u.findPointInBlockNode(e,y+g,!0)}),y+=g),"</span>"===s[0]?d.pop():d.push(s[1]),h=v}return[].concat(p,n())}function L(e,t,n){var a=e.children,o=e.decoration,l=e.attributes;if(""===e.text)return n();if(o.type.startsWith("SlateCodeBlocks:")){var i=o.type.split(":").slice(1);return r.createElement("span",f({className:i.join(" ")},l),a)}return n()}},7345:function(e,t,n){"use strict";t.__esModule=!0,t.findPointInBlockNode=function(e,t,n){void 0===n&&(n=!1);var r=i(e,t,n);if(null==r)throw new Error("Slate: Unable to find point in text node");return r},t.selectionToLineChar=function(e,t){if(!t.isCollapsed)return null;var n=e.getClosestBlock(t.start.key);if(null==n)return null;var r=e.nodes.indexOf(n);if(-1===r)return null;var a=u(n,t.start);return{line:r,character:a}},t.getOffsetOnLine=u,t.iterateNodes=function e(t,n){n(t);if("text"!==t.object&&null!=t.nodes){var r=t.nodes,a=Array.isArray(r),o=0;for(r=a?r:r[Symbol.iterator]();;){var l;if(a){if(o>=r.length)break;l=r[o++]}else{if((o=r.next()).done)break;l=o.value}e(l,n)}}},t.restoringExactSelection=function(e,t){var n=s(e.value.document,e.value.selection.anchor),r=s(e.value.document,e.value.selection.focus);if(t(),null!=n&&null!=r){var a=c(e.value.document,n),l=c(e.value.document,r);null!=a&&null!=l&&e.select(o.Range.create({anchor:a,focus:l}))}},t.pointToLineChar=s,t.lineCharToPoint=c,t.serializeToVisualText=function e(t){return"document"===t.object||"block"===t.object&&o.Block.isBlockList(t.nodes)?t.nodes.map(e).join("\n"):t.text},t.catchAndLogExceptions=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];try{return e.apply(void 0,n)}catch(e){return console.error("Caught error during slate event handler, will ignore and continue\n",e),l.captureException(e),n[n.length-1]()}}};var r,a=(r=n(12))&&r.__esModule?r:{default:r},o=n(6415);var l=n(199).default;function i(e,t,n){if(void 0===n&&(n=!1),"text"===e.object)return t>e.text.length?null:{key:e.key,offset:t};var r=t,o=e.nodes,l=Array.isArray(o),i=0;for(o=l?o:o[Symbol.iterator]();;){var u;if(l){if(i>=o.length)break;u=o[i++]}else{if((i=o.next()).done)break;u=i.value}var s=u;(0,a.default)("text"===s.object||"inline"===s.object,"Slate: invalid object type %s-%s",s.object,s.type);var c=s.text;if("inline"===s.object&&(0,a.default)(1===c.length,"Slate: inline objects must have one character %s - %s",s.type,c),r<=c.length){if("inline"===s.object){r=0;continue}var f={key:s.key,offset:r};return n&&(f.path=e.getPath(s.key)||void 0),f}r-=c.length}return null}function u(e,t){var n=0,r=e.nodes,a=Array.isArray(r),o=0;for(r=a?r:r[Symbol.iterator]();;){var l;if(a){if(o>=r.length)break;l=r[o++]}else{if((o=r.next()).done)break;l=o.value}var i=l;if(i.key===t.key){n+=t.offset;break}n+=i.text.length}return n}function s(e,t){var n=e.getClosestBlock(t.key);if(null==n)return null;var r=function(e,t){return(0,a.default)("text"!==e.object&&"inline"!==e.object,"Slate: block may not be a text node"),e.nodes.indexOf(t)}(e,n);if(-1===r)return null;var o=0,l=n.nodes,i=Array.isArray(l),u=0;for(l=i?l:l[Symbol.iterator]();;){var s;if(i){if(u>=l.length)break;s=l[u++]}else{if((u=l.next()).done)break;s=u.value}var c=s;if(c.key===t.key){o+=t.offset;break}o+=c.text.length}return{line:r,character:o}}function c(e,t){var n=e.nodes.get(t.line);return(0,a.default)("block"===n.object,"Slate: The document should only contain block nodes"),i(n,t.character)}},7766:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=_(n(1)),o=C(n(17)),l=C(n(12)),i=n(6415),u=n(9629),s=n(309),c=C(n(9610)),f=C(n(10)),d=n(6445),p=n(337),y=C(n(9611)),h=C(n(9612)),v=C(n(9613)),g=_(n(7208)),b=C(n(9614)),k=C(n(9615)),x=C(n(6446)),m=C(n(9616)),w=n(0),O=C(n(5470)),S=C(n(6147)),j=C(n(5477));function C(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function A(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function B(){return(B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var P=/(\t|\s)/,M=window.ResizeObserver,T=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).lastEditorHeight=null,n._editorRef=null,n.setValue=function(e){var t=n.props,r=t.onChange,a=t.plainMode;r&&r(null,x.default.serialize(e.document,a?"plain":"raw"),e)},n.setRef=function(e){n._editorRef=e,null!=M&&(null!=e?(n.lastEditorHeight=e.el.offsetHeight,n._resizeObserver=new M(function(){var e=E(n)._editorRef;if(null!=e){var t=e.el.offsetHeight;if(n.lastEditorHeight!==t){n.lastEditorHeight=t;var r=n.props.onResize;r&&r(t)}}}),n._resizeObserver.observe(e.el)):null!=n._resizeObserver&&n._resizeObserver.disconnect())},n.handleChange=function(e){var t=e.value;n.setValue(t)},n.handleCompositionStart=function(e,t,r){n.isSlateEmpty(t.value)&&n.forceUpdate(),r()},n.handleFocus=function(e,t,r){var a=n.props.onFocus;return a&&a(e),r()},n.handleBlur=function(e,t,r){var a=n.props.onBlur;return a&&a(e),r()},n.handleKeyDown=function(e,t,r){var a=!0;switch(e.which){case w.KeyboardKeys.ARROW_DOWN:n.props.moveSelection(1)&&e.preventDefault();break;case w.KeyboardKeys.N:e.ctrlKey&&n.props.moveSelection(1)&&e.preventDefault();break;case w.KeyboardKeys.ARROW_UP:n.props.moveSelection(-1)&&e.preventDefault();break;case w.KeyboardKeys.P:e.ctrlKey&&n.props.moveSelection(-1)&&e.preventDefault();break;case w.KeyboardKeys.TAB:case w.KeyboardKeys.ENTER:a=!n.handleTabOrEnterDown(e);break;case w.KeyboardKeys.A:e.ctrlKey&&f.default.isOSX&&n.withEditor(function(e){var t=n.getSelectedLine(e),r=null==t?null:t.getFirstText();if(null!=r){var a={key:r.key,offset:0};e.select(i.Range.create({anchor:a,focus:a}))}});break;case w.KeyboardKeys.E:e.ctrlKey&&f.default.isOSX&&n.withEditor(function(e){var t=n.getSelectedLine(e),r=null==t?null:t.getLastText();if(null!=r){var a={key:r.key,offset:r.text.length};e.select(i.Range.create({anchor:a,focus:a}))}})}var o=n.props.onKeyDown;return o&&o(e),a?r():void 0},n.handleKeyUp=function(e,t,r){switch(e.which){case w.KeyboardKeys.ARROW_RIGHT:case w.KeyboardKeys.ARROW_LEFT:n.props.maybeShowAutocomplete()}var a=n.props.onKeyUp;return a&&a(e),r()},n.handlePaste=function(e,t,r){if(null==e.clipboardData||null==e.clipboardData.items||0===e.clipboardData.items.length)return r();for(var a=0;a<e.clipboardData.items.length;a++)n.props.onPasteItem(e,e.clipboardData.items[a]);return r()},n.handleClick=function(e,t,r){return n.props.maybeShowAutocomplete(),r()},n.handleContextMenu=function(e){f.default.embedded?(0,s.openContextMenu)(e,function(e){return a.createElement(c.default,B({},e,{editor:E(n)}))},{align:p.Align.BOTTOM}):null!=n._editorRef&&n.isSlateEmpty(n._editorRef.value)&&n.blur()},n.plugins=n.createPlugins(),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var C=r.prototype;return C.isSlateEmpty=function(e){var t=e.document,n=t.nodes.size>0?t.nodes.get(0):null;return!("document"!==t.object||""!==t.text||1!==t.nodes.size||null==n||"text"!==n.object&&"code"===n.type||"text"!==n.object&&"blockQuote"===n.type||1!==Array.from(t.texts()).length)},C.withEditor=function(e){var t=this._editorRef;return t&&e(t)},C.focus=function(){this.withEditor(function(e){return e.focus()})},C.blur=function(){this.withEditor(function(e){return e.blur()})},C.insertText=function(e,t){var n=this;void 0===t&&(t=!0),this.withEditor(function(r){var a=n.props,o=a.plainMode,l=a.preprocessInsertedText;e=o?e:l(e),r.insertText(e+(t?" ":""))})},C.getCurrentWord=function(){var e=this._editorRef;if(null==e)return{word:null,isAtStart:!1};var t=e.value,n=t.selection,r=t.document;if(!n.isCollapsed)return{word:null,isAtStart:!1};if(!this.props.plainMode&&this.hasOpenPlainTextCodeBlock())return{word:null,isAtStart:!1};var a=r.text;if(0===a.trim().length)return{word:null,isAtStart:!1};if(a.startsWith("/giphy ")||a.startsWith("/tenor ")){var o=r.getNode(n.start.key);if(null!=o)return{word:o.text.substring(0,n.start.offset),isAtStart:!0}}var i=r.getNode(n.start.key);if(null==i)return{word:null,isAtStart:!1};var u="",s=!1,c=n.start.offset,f=r.getClosestBlock(i.key);for((0,l.default)(null!=f,"selected line should not be null at this point");;){if(--c<0){if(null==(i=f.getPreviousNode(i.key))){s=!0;break}if("text"!==i.object)break;c=i.text.length-1}if("text"!==i.object)break;var d=i.text[c];if(P.test(d))break;u=d+u}return{word:""===u?null:u,isAtStart:s&&"line"===f.type&&r.nodes.get(0)===f}},C.getSelectedText=function(){var e=this._editorRef;if(null==e)return"";var t=e.value,n=t.document,r=t.selection,a="",o=n.getTextsAtRange(r),l=Array.isArray(o),i=0;for(o=l?o:o[Symbol.iterator]();;){var u;if(l){if(i>=o.length)break;u=o[i++]}else{if((i=o.next()).done)break;u=i.value}var s=u,c=s.key===r.start.key?r.start.offset:0,f=s.key===r.end.key?r.end.offset:0;a+=s.text.substring(c,f)}return a},C.wrapSelectedTextWithMarkdownSyntax=function(e){this.withEditor(function(t){var n=t.value.selection,r=n.start,a=n.end;t.deselect().insertTextAtRange(i.Range.create({anchor:a,focus:a}),e).insertTextAtRange(i.Range.create({anchor:r,focus:r}),e)})},C.insertAutocomplete=function(e,t){var n=this;this.withEditor(function(r){var a=n.getCurrentWord().word;null!=a&&r.deleteBackward(a.length),n.insertText(n.props.plainMode?e:t)})},C.insertEmoji=function(e,t){var n=e.animated?"a":"",r=e.originalName||e.name,a=null==e.id||this.props.plainMode?":"+e.name+":":"<"+n+":"+r.replace(/:/g,"")+":"+e.id+">";this.insertText(a,t)},C.componentDidMount=function(){this.withEditor(function(e){e.focus();var t=e.value.document.getLastText();if(null!=t){var n={key:t.key,offset:t.text.length};e.select(i.Range.create({anchor:n,focus:n}))}}),window.top.__DISCORD_SLATE=this._editorRef},C.render=function(){var e=this.props,t=e.className,n=e.disabled,r=e.submitting,l=e.placeholder,i=e.value,s=null!=this._editorRef&&!this._editorRef.isComposing()&&this.isSlateEmpty(i);return A("div",{className:(0,o.default)(t,S.default.slateContainer,O.default.scrollbarGhostHairline)},void 0,s&&null!=l?A("div",{className:S.default.placeholder},void 0,l):null,a.createElement(u.Editor,{value:i,plugins:this.plugins,ref:this.setRef,className:(0,o.default)(j.default.markup,S.default.slateTextArea),onChange:this.handleChange,readOnly:n||r,placeholder:null,onFocus:this.handleFocus,onCompositionStart:this.handleCompositionStart,onContextMenu:this.handleContextMenu,onBlur:this.handleBlur,onClick:this.handleClick,onPaste:this.handlePaste,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,tabIndex:(0,d.getTabIndex)(d.TabIndexKeys.CHANNEL_TEXT_AREA)}))},C.getSelectedLine=function(e){var t=e.value,n=t.document,r=t.selection;return r.isCollapsed?n.getClosestBlock(r.start.key):null},C.handleTabOrEnterDown=function(e){if(this.props.onTabOrEnter())return e.preventDefault(),e.stopPropagation(),!0;if(e.which===w.KeyboardKeys.TAB)this.hasOpenPlainTextCodeBlock()&&(e.preventDefault(),e.stopPropagation(),this.insertText("\t",!1));else if(e.which===w.KeyboardKeys.ENTER&&!e.ctrlKey&&!e.shiftKey&&!this.hasOpenPlainTextCodeBlock())return e.preventDefault(),e.stopPropagation(),this.props.onSubmit(x.default.serialize(this.props.value.document,this.props.plainMode?"plain":"raw")),!0},C.hasOpenPlainTextCodeBlock=function(){var e=this._editorRef;return null!=e&&(0,g.isPointInCodeBlock)(e,e.value.selection.start)},C.createPlugins=function(){var e=this.props,t=e.renderers,n=e.guildId,r=e.plainMode,a=e.preprocessInsertedText;return[r?null:(0,g.default)(),r?null:(0,h.default)(),r?null:(0,y.default)(),r?null:(0,b.default)(t,n),(0,k.default)(n,r),(0,v.default)(a),(0,m.default)(this.setValue)].filter(function(e){return null!=e})},r}(a.PureComponent);t.default=T,T.displayName="SlateChannelTextArea"},8043:function(e,t,n){"use strict";t.__esModule=!0,t.parse=A,t.parseNonCodeBlockDecorations=function(e,t,n){var r=s.findBackticksOnLine(e);if(r.push(e.length),1===r.length&&n)return[];var a=0,o=n,l=[],i=r,u=Array.isArray(i),c=0;for(i=u?i:i[Symbol.iterator]();;){var f;if(u){if(c>=i.length)break;f=i[c++]}else{if((c=i.next()).done)break;f=c.value}var p=f;if(o)l.push({text:e.substring(a,p),start:a,attributes:["codeBlockText"],data:void 0});else{var y=p===r[r.length-2]?e.substring(p+3):"",h=null!=y.match(s.caseInsensitiveLangRegex);p+=3+(h?y:"").length;var v=e.substring(a,p);if(""!==v)A(v,t,!0).forEach(function(e){l.push(d({},e,{start:e.start+a}))})}o=!o,a=p}return l},t.markdownRules=void 0;var r=f(n(12)),a=f(n(354)),o=c(n(110)),l=c(n(6653)),i=f(n(759)),u=f(n(760)),s=c(n(7208));function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p={link:{type:"skip"},highlight:{type:"skip"},blockQuote:{type:"skip"},codeBlock:{type:"skip"},newline:{type:"verbatim"},br:{type:"verbatim"},paragraph:{type:"verbatim"},text:{type:"verbatim"},emoticon:{type:"verbatim"},mention:{type:"inlineObject"},roleMention:{type:"inlineObject"},channel:{type:"inlineObject"},emoji:{type:"inlineObject"},customEmoji:{type:"inlineObject"},em:{type:"inlineStyle",before:"*",after:"*"},autolink:{type:"inlineStyle",before:"<",after:">"},strong:{type:"inlineStyle",before:"**",after:"**"},u:{type:"inlineStyle",before:"__",after:"__"},s:{type:"inlineStyle",before:"~~",after:"~~"},escape:{type:"inlineStyle",before:"\\",after:""},inlineCode:{type:"inlineStyle",before:"`",after:"`"},spoiler:{type:"inlineStyle",before:"||",after:"||"},url:{type:"inlineStyle",before:"",after:""},codeBlockText:{type:"inlineStyle",before:"",after:""},codeBlockSyntax:{type:"inlineStyle",before:"",after:""}},y=new Set(["*","_","\\"]),h={},v={};for(var g in i.default.RULES){if(!(g in p))throw new Error("Slate: Unknown markdown rule: "+g+".  If you have just added a new markdown rule then you probably need to add it to this file so that the rich chat box understands it.");var b=p[g];"skip"!==b.type&&(h[g]=k(i.default.RULES[g])),"skip"!==b.type&&"inlineObject"!==b.type&&(v[g]=k("text"===g?o.defaultRules.text:i.default.RULES[g]))}function k(e){(0,r.default)(null!=e.parse,"Slate: rule must have a parse function");var t=e.parse;return d({},e,{parse:function(e,n,r){var a=t.call(this,e,n,r);return a instanceof Array||(a.originalMatch=e),a}})}var x={url:{parse:function(e){return{type:"link",content:e[1],originalMatch:e}}},autolink:{parse:function(e){return{type:"autolink",content:e[1],originalMatch:e}}},codeBlockSyntax:{order:o.defaultRules.inlineCode.order-.1,match:function(e){return/^```([a-z0-9_+\-.]+$)?/.exec(e)},parse:function(e){return{type:"codeBlockSyntax",content:e[0],originalMatch:e}}}},m=(0,u.default)([h,x]);t.markdownRules=m;var w=(0,u.default)([v,x]),O=l.astParserFor(m),S=l.astParserFor(w),j={max:1/0,maxAge:6e4,updateAgeOnGet:!0},C=new a.default(j),_=new a.default(j);function A(e,t,n){void 0===n&&(n=!1);var r=[],a={returnMentionIds:!0,disableAutoBlockNewlines:!0,guildId:t},o=n?S:O,l=n?_:C,i=l.get(e);if(null!=i)return i;var u=e.replace(/\r\n/g," \n").replace(/[\r\f]/g," ").replace(/\t/g," ")+"\n\n";B(r,u,{originalMatch:{index:0,0:""},type:"paragraph",content:o(u,!1,a)},0,[]);var s=function(e){if(0===(e=e.filter(function(e){return e.text.length>0})).length)return e;for(var t=[e[0]],n=1;n<e.length;n++){var r=t[t.length-1],a=e[n];null==r.data&&null==a.data&&r.attributes.join("-")===a.attributes.join("-")?r.text+=a.text:t.push(a)}return t}(r);return l.set(e,s),s}function B(e,t,n,a,o){var l=n.content,i=n.type,u=n.originalMatch;switch((0,r.default)(null!=u,"Slate: originalMatch must be set "+JSON.stringify(n,void 0,2)),i){case"newline":case"br":case"paragraph":case"text":case"emoticon":return E(e,t,l||"",a,o);case"emoji":case"customEmoji":var s=t.substring(a);if(s.startsWith(u[0]))return M(e,t,u[0],a,[i],n);if(null!=n.surrogate){if(s.startsWith(n.surrogate))return M(e,t,n.surrogate,a,[i],n);if(n.surrogate.length>1&&"️"===n.surrogate[n.surrogate.length-1]){var c=n.surrogate.substring(0,n.surrogate.length-1);if(s.startsWith(c))return M(e,t,c,a,[i],n)}}throw new Error("Slate: Unable to find emoji: "+u[0]+" in "+t+" at "+a);case"mention":case"roleMention":case"channel":var f=n.text,d=n.id;return null!=f?((0,r.default)(f===u[0],"Slate: text mentions must exactly match the regex match"),M(e,t,f,a,["textMention"],{text:f})):M(e,t,u[0],a,[i],{id:d});case"em":case"autolink":case"strong":case"u":case"s":case"escape":case"inlineCode":case"codeBlockSyntax":case"spoiler":case"url":case"link":var y=function(e,t,n,r){if("inlineCode"===t)return{before:r[1],after:r[1]};if("em"===t&&"_"===e.substring(n,n+1))return{before:"_",after:"_"};var a=p["link"===t?"url":t];if("inlineStyle"===a.type)return a;throw new Error("Slate: rule must be an inlineStyle")}(t,i,a=T(t,a),u),h=y.before,v=y.after;return a=P(e,t,h,a,"syntaxBefore"),o.push(i),a=E(e,t,l,a,o),o.pop(),T(t,a=P(e,t,v,a,"syntaxAfter"));default:throw new Error("Slate: Unknown rule type: "+i)}}function E(e,t,n,r,a){return"string"==typeof n?r=M(e,t,n,r,a,null):(n instanceof Array||(n=[n]),n.forEach(function(n){r=B(e,t,n,r,a)})),T(t,r)}function P(e,t,n,a,o){if(n.length>0){var l=t.indexOf(n,a),i=t.substring(a,l+n.length);(0,r.default)(l>=0,"Slate: Unable to find syntax characters"),e.push({text:i,attributes:[o],start:a,data:null}),a=l+n.length}return a}function M(e,t,n,r,a,o){for(r=T(t,r);"\n"===n.charAt(0)||" "===n.charAt(0);)n=n.substring(1);var l=t.indexOf(n,r);if(l!==r)for(var i=t.substring(r,l),u=0;u<i.length&&y.has(i[u]);u++)r=T(t,r=P(e,t,i[u],r,"syntaxBefore"));else"\\"===n&&"\\"===t.charAt(l+1)&&(l++,r++);if(l!==r)throw console.error(JSON.stringify({sourceText:t,searchText:n,searchStartsAt:t.substring(r),startPos:r})),Error("Slate: Unable to find content in source text!");return e.push({text:n,attributes:a.slice(),start:r,data:o}),r+n.length}function T(e,t){for(;"\n"===e.charAt(t)||" "===e.charAt(t);)t++;return t}},9610:function(e,t,n){"use strict";t.__esModule=!0,t.default=p;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(1));var r,a=n(309),o=f(n(10)),l=f(n(28)),i=f(n(6164)),u=f(n(6160)),s=f(n(6647)),c=f(n(7));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){var t=e.editor,n=e.className,r=e.onHeightUpdate,a=e.target,o=""===t.getSelectedText();return d("div",{className:n},void 0,o?null:d(i.default,{},void 0,d(g,{editor:t})),d(s.default,{target:a,value:t.getSelectedText(),onHeightUpdate:r}),d(i.default,{},void 0,o?null:d(y,{editor:t}),o?null:d(h,{editor:t}),d(v,{editor:t})))}function y(e){var t=e.editor;return d(u.default,{label:c.default.Messages.COPY,hint:o.default.isOSX()?"⌘C":"Ctrl+C",action:function(){(0,a.closeContextMenu)(),l.default.copy(),t.focus()}})}function h(e){var t=e.editor;return d(u.default,{label:c.default.Messages.CUT,hint:o.default.isOSX()?"⌘X":"Ctrl+X",action:function(){(0,a.closeContextMenu)(),l.default.cut(),t.focus()}})}function v(e){var t=e.editor;return d(u.default,{label:c.default.Messages.PASTE,hint:o.default.isOSX()?"⌘V":"Ctrl+V",action:function(){(0,a.closeContextMenu)(),l.default.paste(),t.focus()}})}function g(e){var t=e.editor;return d(u.default,{label:c.default.Messages.SPOILER_MARK_SELECTED,action:function(){(0,a.closeContextMenu)(),t.wrapSelectedTextWithMarkdownSyntax("||"),t.focus()}})}p.displayName="SlateContextMenu",y.displayName="CopyItem",h.displayName="CutItem",v.displayName="PasteItem",g.displayName="SpoilerItem"},9611:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(){return{renderBlock:f}};var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(1)),o=u(n(17)),l=u(n(5477)),i=u(n(5907));function u(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,l=arguments.length-3;if(t||0===l||(t={children:void 0}),t&&o)for(var i in o)void 0===t[i]&&(t[i]=o[i]);else t||(t=o||{});if(1===l)t.children=a;else if(l>1){for(var u=new Array(l),s=0;s<l;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e,t,n){var r=e.attributes,u=e.children,f=e.node,d=null==f.data.get("lineType")?null:JSON.parse(f.data.get("lineType")),p=null!=d&&d.isInCodeBlock,y="blockQuote"===f.type;if(!p&&!y)return n();var h=(0,o.default)(null==d?void 0:d.lang,i.default.codeLine),v=(0,o.default)(l.default.blockquoteContainer,l.default.slateBlockquoteContainer),g=p?c("span",{className:h},void 0,u):u;return y?a.createElement("div",s({},r,{className:v}),c("div",{contentEditable:!1,className:l.default.blockquoteDivider}),c("blockquote",{},void 0,g)):a.createElement("div",r,g)}},9612:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(){return{onChange:i.catchAndLogExceptions(c),onKeyDown:i.catchAndLogExceptions(d),onKeyUp:i.catchAndLogExceptions(p)}};var r,a=(r=n(12))&&r.__esModule?r:{default:r},o=n(6415),l=n(7208),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(7345)),u=n(0);var s=new Set(["paragraph","line"]);function c(e,t){if(e.value.document.text.indexOf(">")>=0){var n=!1,r=e.value.document.nodes,o=Array.isArray(r),l=0;for(r=o?r:r[Symbol.iterator]();;){var i;if(o){if(l>=r.length)break;i=r[l++]}else{if((l=r.next()).done)break;i=l.value}var u=i;(0,a.default)("block"===u.object,"Slate: Invalid block type: "+u.object+" "+u.type),s.has(u.type)&&(n=f(e,u,n)||n)}}return t()}function f(e,t,n){(0,a.default)("text"!==t.object,"Slate: block may not be a text node");var r=t.text.match(/^\s*>>> /),i=t.text.match(/^\s*> /);if(null==i&&null==r&&!n)return!1;var u=Array.from(t.texts())[0],s=u[0],c=u[1];if(!n&&(0,l.isPointInCodeBlock)(e,{key:s.key,offset:0}))return!1;if(e.setNodeByKey(t.key,"blockQuote"),!n){var f=null==i?null==r?0:r[0].length:i[0].length;e.deleteAtRange(o.Range.create({anchor:{key:s.key,path:c,offset:0},focus:{key:s.key,path:c,offset:f}}))}return null!=r}function d(e,t,n){switch(e.which){case u.KeyboardKeys.BACKSPACE:if(function(e){var t=e.value,n=t.document,r=t.selection;if(!r.isCollapsed)return!1;var a=n.getClosestBlock(r.anchor.key);if(null==a||"blockQuote"!==a.type)return!1;var l=a.getFirstText();if(null!=l&&r.anchor.key===l.key&&0===r.anchor.offset){var u=n.nodes.indexOf(a),s=o.Block.create({type:"line",nodes:[o.Text.create({text:a.text})]});return i.restoringExactSelection(e,function(){e.removeNodeByKey(a.key).insertNodeByKey(n.key,u,s)}),!0}return!1}(t))return void e.preventDefault()}return n()}function p(e,t,n){switch(e.which){case u.KeyboardKeys.ENTER:if(function(e){var t=e.value,n=t.selection,r=t.document;if(!n.isCollapsed)return!1;var a=r.getClosestBlock(n.anchor.key);if(null==a||"blockQuote"!==a.type)return!1;var o=r.getPreviousSibling(a.key);if(null==o||"text"===o.object||"blockQuote"!==o.type)return!1;var l=r.getPreviousSibling(o.key);if(null==l||"text"===l.object||"blockQuote"!==l.type)return!1;if(""===a.text.trim()&&""===o.text.trim()&&""===l.text.trim())return e.removeNodeByKey(l.key).removeNodeByKey(o.key).setBlocks("line"),!0;return!1}(t))return void e.preventDefault()}return n()}},9613:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return{onCopy:u,onCut:s,onPaste:function(t,n,r){return function(e,t,n,r){if(null==t.clipboardData)return r();if(null==t.clipboardData.types)return r();if(-1===t.clipboardData.types.indexOf("text/plain"))return r();var l=t.clipboardData.getData("text/plain");if(null==l||""===l)return r();if(l.length>i.MAX_MESSAGE_LENGTH)return;var u=n.value,s=u.document,c=u.startBlock,f=u.selection;if(n.isVoid(c))return r();t.preventDefault(),f.isCollapsed||n.delete();var d=(0,o.isPointInCodeBlock)(n,f.start)?l:e(l),p=(null==c?void 0:c.type)||"line",y=s.getClosestBlock(f.start.key),h=null==y?0:s.nodes.indexOf(y),v=d.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n");n.insertText(v[0]),v.length>1&&n.splitBlock().insertText(v[v.length-1]);for(var g=1;g<=v.length-2;g++){var b=a.Block.create({type:p,nodes:[a.Text.create({text:v[g]})]});n.insertNodeByKey(s.key,h+g,b)}}(e,t,n,r)}}};var r,a=n(6415),o=n(7208),l=(r=n(6446))&&r.__esModule?r:{default:r},i=n(0);function u(e,t,n){if(!c(e,t))return n();e.preventDefault();var r=t.value,a=r.document,o=r.selection;if(null==e.clipboardData)return n();e.clipboardData.setData("text/plain",l.default.serializeSelection(a,o,"plain"))}function s(e,t,n){if(!c(e,t))return n();u(e,t,n),t.delete()}function c(e,t){return!t.value.selection.isCollapsed&&null!=e.clipboardData&&null!=e.clipboardData.setData}},9614:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return{renderInline:function(t,n,r){return function(e,t,n,r){var o=e.attributes,l=e.node;switch(l.type){case"emoji":return a.createElement("span",p({},o,{contentEditable:!1}),r.renderEmoji(l.data.get("data")));case"customEmoji":return a.createElement("span",p({},o,{contentEditable:!1}),r.renderCustomEmoji(l.data.get("data")));case"textMention":return a.createElement("span",p({},o,{contentEditable:!1}),r.renderTextMention(l.data.get("text")));case"mention":return a.createElement("span",p({},o,{contentEditable:!1}),r.renderUserMention(l.data.get("id")));case"roleMention":return a.createElement("span",p({},o,{contentEditable:!1}),r.renderRoleMention(l.data.get("id")));case"channel":return a.createElement("span",p({},o,{contentEditable:!1}),r.renderChannelMention(l.data.get("id")));default:return n()}}(t,0,r,e)},onChange:c.catchAndLogExceptions(function(e,n){return function(e,t,n){for(;h(t,e););return function(e){c.iterateNodes(e.value.document,function(t){"inline"===t.object&&""===t.text&&e.removeNodeByKey(t.key)})}(t),n()}(t,e,n)}),onKeyDown:c.catchAndLogExceptions(k)}},t.onKeyDown=k;var r,a=d(n(1)),o=(r=n(12))&&r.__esModule?r:{default:r},l=n(6415),i=d(n(8043)),u=n(7208),s=d(n(6446)),c=d(n(7345)),f=n(0);function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var y=new Set(["paragraph","line","blockQuote"]);function h(e,t){if(1===e.value.document.nodes.size){var n=e.value.document.nodes.first();(0,o.default)("block"===n.object,"Slate: Invalid block type: "+n.object+" "+n.type);var r=n.text;if(r.startsWith("s/")||r.startsWith("+")||r.startsWith("/"))return g(e,n,!1),!1}var a=e.value.document.nodes,l=Array.isArray(a),i=0;for(a=l?a:a[Symbol.iterator]();;){var u;if(l){if(i>=a.length)break;u=a[i++]}else{if((i=a.next()).done)break;u=i.value}var s=u;if((0,o.default)("block"===s.object,"Slate: Invalid block type: "+s.object+" "+s.type),y.has(s.type)&&(g(e,s,!0),v(e,s,t)))return!0}return!1}function v(e,t,n){var r=i.parse(t.text,n),a=Array.isArray(r),o=0;for(r=a?r:r[Symbol.iterator]();;){var l;if(a){if(o>=r.length)break;l=r[o++]}else{if((o=r.next()).done)break;l=o.value}var u=l;switch(u.attributes[0]){case"emoji":return b(e,t,u,"emoji",{data:u.data});case"customEmoji":return b(e,t,u,"customEmoji",{data:u.data});case"textMention":return b(e,t,u,"textMention",{text:u.data.text});case"mention":case"roleMention":case"channel":return b(e,t,u,u.attributes[0],{id:u.data.id})}}return!1}function g(e,t,n){var r=!1,a=t.nodes,o=Array.isArray(a),i=0;for(a=o?a:a[Symbol.iterator]();;){var u;if(o){if(i>=a.length)break;u=a[i++]}else{if((i=a.next()).done)break;u=i.value}var c=u;if("text"===c.object&&n)for(var f=0;;){var d=c.text.indexOf("\\",f);if(-1===d)break;if(d===c.text.length-1){r=!0;break}f+=2}else!r&&n||(r=!1,"inline"===c.object&&e.replaceNodeByKey(c.key,l.Text.create({text:s.serializeInlineObject(c,"plain")})))}}function b(e,t,n,r,a){(0,o.default)("text"!==t.object,"Slate: block may not be a text node");var i=e.value.document.nodes.indexOf(t);(0,o.default)(i>=0,"Slate: line not found");var s=e.value,f=s.selection,d=s.document,p=c.selectionToLineChar(d,f),y=c.findPointInBlockNode(t,n.start),h=c.findPointInBlockNode(t,n.start+n.text.length);if((0,o.default)(y.key===h.key,"Slate: inline objects have to be in the same plain text node"+JSON.stringify({b:t.toJSON(),startPoint:y,endPoint:h})),(0,u.isPointInCodeBlock)(e,y))return!1;var v=[],g=t.nodes,b=Array.isArray(g),k=0;for(g=b?g:g[Symbol.iterator]();;){var x;if(b){if(k>=g.length)break;x=g[k++]}else{if((k=g.next()).done)break;x=k.value}var m=x;"document"!==m.object&&m.key!==y.key?v.push(m):(null!=y.offset&&y.offset>0&&v.push(l.Text.create({text:m.text.substring(0,y.offset)})),v.push(l.Inline.create({type:r,data:a,nodes:[{object:"text",text:" "}]})),null!=h.offset&&h.offset<m.text.length&&v.push(l.Text.create({text:m.text.substring(h.offset)})))}if(e.replaceNodeByKey(t.key,l.Block.create({type:t.type,nodes:v})),f.isCollapsed&&null!=p&&p.line===i){var w=p.character>n.start?p.character-n.text.length+1:p.character,O=e.value.document.nodes.get(i),S=c.findPointInBlockNode(O,w);e.select(l.Range.create({anchor:S,focus:S}))}return!0}function k(e,t,n){var r=t.value,a=r.selection,o=r.document;if(!a.isCollapsed)return n();if(e.ctrlKey||e.altKey||e.metaKey||e.shiftKey)return n();var i=e.which===f.KeyboardKeys.ARROW_LEFT,u=e.which===f.KeyboardKeys.ARROW_RIGHT;if(!i&&!u)return n();var s=o.getClosestBlock(a.anchor.key);if(null==s)return n();var d=c.selectionToLineChar(o,a);if(null==d)return n();if(i&&0===d.character)return n();if(u&&d.character>=s.text.length)return n();var p=i?-1:1,y=c.findPointInBlockNode(s,d.character+p);t.select(l.Range.create({anchor:y,focus:y})),e.preventDefault()}},9615:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){void 0===t&&(t=!1);return{decorateNode:l.catchAndLogExceptions(function(t,n,r){return function(e,t,n,r){if("block"!==t.object||!d.has(t.type))return r()||[];var a=t.data.get("lineType"),i=null!=a&&JSON.parse(a).wasInCodeBlock,u=o.parseNonCodeBlockDecorations(t.text,e,i),s=[],c=u,f=Array.isArray(c),p=0;for(c=f?c:c[Symbol.iterator]();;){var y;if(f){if(p>=c.length)break;y=c[p++]}else{if((p=c.next()).done)break;y=p.value}var h=y,v=h.text,g=h.attributes,b=h.start;g.length>0&&s.push({type:"SlateMarkdown:"+g.join(":"),anchor:l.findPointInBlockNode(t,b,!0),focus:l.findPointInBlockNode(t,b+v.length,!0)})}return[].concat(r(),s)}(e,t,0,r)}),renderDecoration:function(e,n,o){return function(e,t,n,o){var l=t.children,i=t.decoration,u=t.attributes;if(""===t.text)return o();if(i.type.startsWith("SlateMarkdown:")){var s=i.type.split(":").slice(1).map(function(e){return(0,a.default)(e in p,"Slate: Invalid markdown decoration: "+e),p[e]}).join(" ");return r.createElement("span",f({},u,{className:e?"":s}),l)}return o()}(t,e,0,o)}}};var r=c(n(1)),a=s(n(12)),o=c(n(8043)),l=c(n(7345)),i=s(n(5500)),u=s(n(5907));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var d=new Set(["paragraph","line","blockQuote"]),p={strong:u.default.bold,em:u.default.italics,u:u.default.underline,s:u.default.strikethrough,inlineCode:u.default.inlineCode,link:u.default.fakeLink,url:u.default.fakeLink,autolink:u.default.fakeLink,spoiler:i.default.spoilerText,syntaxBefore:u.default.syntaxBefore,syntaxAfter:u.default.syntaxAfter,codeBlockText:u.default.codeBlockText,codeBlockSyntax:u.default.codeBlockSyntax}},9616:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t={index:0,stack:[]};return{onConstruct:function(e,n){return function(e,t,n){null!=t.value&&(e.stack=[{type:"other",textLength:-1,mergeable:!1,createdAt:Date.now(),value:t.value}]);return n()}(t,e,n)},onChange:function(e,n){return function(e,t,n){if(null==t.value)return n();0===e.stack.length&&(e.index=0,e.stack=[{type:"other",textLength:-1,mergeable:!1,createdAt:Date.now(),value:t.value}]);var o=t.value,l=e.stack[e.index],i=l.textLength,u=o.document.text.length,s=u-i,c=1===s?"insert":-1===s?"delete":"other",f="other"!==c,d=Date.now();if(f&&(p=l,y=c,p.mergeable&&p.type===y&&!(Date.now()-p.createdAt>=r))||o.document===l.value.document)return l.value=o,void(l.textLength=u);var p,y;l.mergeable=!1,e.stack.length=e.index+1;for(;e.stack.length>=a;)e.stack.shift();return e.index=e.stack.length,e.stack.push({type:c,textLength:u,mergeable:f,createdAt:d,value:o}),n()}(t,e,n)},commands:{undo:function(){return function(e,t){var n=Math.max(0,e.index-1);e.index=n,t(e.stack[n].value)}(t,e)},redo:function(){return function(e,t){var n=Math.min(e.index+1,e.stack.length-1);e.index=n,t(e.stack[n].value)}(t,e)}}}};var r=2e3,a=250}}]);
//# sourceMappingURL=cae7e9032fc3cd1bce42.js.map